<%- include('header', { title: 'Your Reading List' }) %>

<link rel="stylesheet" href="/styles.css">

<div class="container">
    <h1>Your Reading List</h1>

    <section class="suggestions">
        <% if (books && books.length > 0) { %>
            <% books.forEach(book => { %>
                <div class="suggestion-card">
                    <div class="book-cover-container">
                        <img 
                            src="<%= book.coverImage || '/default-cover.jpg' %>" 
                            alt="Cover of <%= book.title %>" 
                            class="book-cover"
                            onerror="this.src='/default-cover.jpg'">
                    </div>
                    <div class="book-description">
                        <h3><%= book.title %></h3>
                        <p><strong>Author:</strong> <%= book.author || 'Unknown' %></p>
                        <p><%= book.description || 'No description available' %></p>
                        
                        <% if (book.pdfLink) { %>
                            <div class="buttons">
                                <a href="<%= book.pdfLink %>" target="_blank" class="explore-btn">
                                    üìÑ Open PDF
                                </a>
                            </div>
                        <% } %>
                        
                        <!-- Remove Book Button -->
                        <form action="/removeFromReadingList" method="POST" class="remove-book-form">
                            <input type="hidden" name="title" value="<%= book.title %>">
                            <button type="submit" class="remove-book-btn">üóëÔ∏è Remove</button>
                        </form>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <div class="empty-state">
                <p>üìö Your reading list is empty!</p>
                <a href="/books" class="explore-btn">Start adding books</a>
            </div>
        <% } %>
    </section>
</div>

<%- include('footer') %>